/**
  ******************************************************************************
  * @file    stm32F103zet6开发板与i.MX6ULL Linux开发板串口通信测试（使用串口助手模拟）

  * @author  Kevin Chen

  * 文件历史：

  * 版本号 日期 作者 说明

  * V1.0.0.2021629_b  2021-6-29         	Kevin Chen 创建该工程

  * V1.0.1.2021712_b  2021-7-12 9:37	Kevin Chen 修改该工程，增加发送数据前查询上位机是否空闲的步骤，若不空				闲或未告知下位机是否空闲，则终止本次翻译。
				新增报错功能，在stm32F103zet6开发板屏幕上显示本次翻译错误的原因
				

  ******************************************************************************
  * @attention
  *
  * V1.0.1.2021712_b
	
  * 1. 搭建SD卡文本阅读环境，按上下翻页键（key_up&key1），stm32F103zet6发送待翻译的文本给上位机，通讯流程
         正常情况下在屏幕上显示上位机回传翻译结果（模拟的），不正常则不会显示并在屏幕上显示对应的错误

  * 2. 串口通信流程：每次按下上翻或者下翻按键，stm32F103zet6发送问询信号（SendRDY 0x55 0x05 0x04 0xFE）发送           给串口助手，串口助手需要在4s内回传
         MasterRDY 	0x55 0x01 0x05 0x03 0xFE
         MasterNRDY	0x55 0x01 0x05 0x04 0xFE

         超时未传则在屏幕上显示"Master_Status TimeOut"并结束本次翻译
         如果串口助手发送了Master_Status，stm32F103zet6会回传接收到的Master_Status给串口助手；
         如果是MasterNRDY 则在屏幕上显示"Master_Status:NOT READY"并结束本次翻译；
         如果回传了错误的RDY or NRDY数据，则在屏幕上显示"WRONG READY OR NOT ANSWER"并结束本次翻译。            只有在回传READY信号后，stm32F103zet6才会将待翻译文本发送给串口助手。

         stm32F103zet6顺序获取文本中18个字节发送给串口助手，串口助手需要在4s内回传翻译完成的数据。
         超时未传则在屏幕上显示"Master NO ANSWER"并结束本次翻译
         如果回传了错误的数据，则在屏幕上显示"Master WRONG DATA"并结束本次翻译
         只有回传了正确的数据后，屏幕上才会显示盲文点图案

			
  * 3. 已在stm32F103zet6和串口助手测试后验证程序无误
						
  *
  *V1.0.0.2021629_b
  *1. 建立了串口通信的驱动，使用stm32F103zet6的USART2（PA2 TX, PA3 RX）
	BaudRate：115200
	WordLength：8b
	StopBits：1
	Parity：NO
 *2. 使用定时器3和串口接收中断来检测数据是否接收完毕，定时器3每隔4ms检测是否收到数据，超过4ms若未收到  新的数据，代表传输结束
 *3. 通信协议详见ARMprotocol.xlsx
  ******************************************************************************